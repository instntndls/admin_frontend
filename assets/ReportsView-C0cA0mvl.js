import{c as B,d as M,r as R,o as d,a as _,b as u,e as t,u as s,_ as N,t as p,f as v,g as $,n as b,h as w,i as T,j as S,w as e,k as U,l as F,m as L,p as E,q as l,F as I,s as D,v as P,x as G,y as z,z as J,A as K,B as O}from"./index-DeiXHYA3.js";/**
 * @license lucide-vue-next v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=B("ArrowDownUpIcon",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-vue-next v0.365.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=B("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),x=M("reports",()=>{const r=R([{id:40,author:"Михаил Фарносов",date:"2024-03-18T00:00:00",type:"comment",content:"https://wspark.org/app/post/40",status:"pending",reports:[{id:1,reason:"spam",status:"unresolved",date:"2024-03-18T00:00:00"},{id:2,reason:"spam",status:"pending",date:"2024-02-18T00:00:00"},{id:3,reason:"spam",status:"pending",date:"2024-04-18T00:00:00"}]},{id:50,author:"Тест Тест",date:"2024-05-18T12:00:00",type:"post",content:"https://wspark.org/app/post/50",status:"pending",reports:[{id:1,reason:"spam",status:"pending",date:"2024-03-18T00:00:00"},{id:2,reason:"spam",status:"pending",date:"2024-03-18T00:00:00"},{id:3,reason:"spam",status:"pending",date:"2024-03-20T12:00:00"}]},{id:23,author:"Нурлан Уразкулов",date:"2024-03-18T12:00:00",type:"question",content:"https://wspark.org/app/post/23",status:"unresolved",reports:[{id:2,reason:"spam",status:"pending",date:"2024-03-18T00:00:00"},{id:3,reason:"spam",status:"pending",date:"2024-03-18T00:00:00"}]}]);function o(a){if(a.length===0)return[];function f(h,g){return h.status<g.status?-1:h.status>g.status?1:0}return a[0].status>a[a.length-1].status?a.sort(f):a.sort((h,g)=>f(g,h)),a}function n(a){if(a.length===0)return[];function f(h,g){const V=new Date(h.date),q=new Date(g.date);return V-q}return new Date(a[0].date)>new Date(a[a.length-1].date)?a.sort(f):a.sort((h,g)=>f(g,h)),a}return{reports:r,toggleSortByStatus:o,toggleSortByDate:n}}),W={class:"px-5 mb-2 z-[999] bg-card rounded-[12px] w-full h-14 flex items-center justify-between shadow-sm border-[1px] border-foreground/10"},X=u("h1",{class:"z-10 leading-[20px] text-[25px] font-black text-foreground"},p("Жалобы"),-1),Y={class:"relative w-1/4 items-center hidden sm:block"},Z={class:"absolute end-0 inset-y-0 flex items-center justify-center px-4"},ss={__name:"ReportsHeader",setup(r){return(o,n)=>(d(),_("header",W,[X,u("div",Y,[t(s(N),{id:"search",type:"text",placeholder:"Поиск...",class:"pr-12 h-8"}),u("span",Z,[t(s(Q),{class:"size-4 text-muted-foreground"})])])]))}},ts={class:"relative w-full overflow-auto"},C=v({__name:"Table",props:{class:{}},setup(r){const o=r;return(n,a)=>(d(),_("div",ts,[u("table",{class:b(s(w)("w-full caption-bottom text-sm",o.class))},[$(n.$slots,"default")],2)]))}}),H=v({__name:"TableBody",props:{class:{}},setup(r){const o=r;return(n,a)=>(d(),_("tbody",{class:b(s(w)("[&_tr:last-child]:border-0",o.class))},[$(n.$slots,"default")],2))}}),c=v({__name:"TableCell",props:{class:{}},setup(r){const o=r;return(n,a)=>(d(),_("td",{class:b(s(w)("p-4 align-middle [&:has([role=checkbox])]:pr-0",o.class))},[$(n.$slots,"default")],2))}}),i=v({__name:"TableHead",props:{class:{}},setup(r){const o=r;return(n,a)=>(d(),_("th",{class:b(s(w)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",o.class))},[$(n.$slots,"default")],2))}}),j=v({__name:"TableHeader",props:{class:{}},setup(r){const o=r;return(n,a)=>(d(),_("thead",{class:b(s(w)("[&_tr]:border-b",o.class))},[$(n.$slots,"default")],2))}}),k=v({__name:"TableRow",props:{class:{}},setup(r){const o=r;return(n,a)=>(d(),_("tr",{class:b(s(w)("border-b border-foreground/10 transition-colors hover:bg-foreground/[0.02]",o.class))},[$(n.$slots,"default")],2))}}),es={class:"flex items-center bg-accent/10 py-1 px-2 border border-foreground/10 gap-2 rounded-[8px] w-min hover:bg-foreground/10 transition-all select-none"},as={class:"text-nowrap"},ns=v({__name:"ReportsStatusInficator",props:{status:String},setup(r){return(o,n)=>(d(),_("div",es,[u("div",{class:b(r.status==="pending"?"Pending":"Unresolved")},null,2),u("span",as,p(r.status==="pending"?"В процессе":"Не решено"),1)]))}}),A=T(ns,[["__scopeId","data-v-588bd0ff"]]),rs={class:"w-full h-full"},ls={class:"rounded-[12px] p-0 border-foreground/20"},os={__name:"ReportModal",props:{data:Array},setup(r){const n=R(r.data);return(a,f)=>(d(),S(s(J),null,{default:e(()=>[t(s(U),{"as-child":""},{default:e(()=>[$(a.$slots,"default",{},void 0,!0)]),_:3}),t(s(F),{class:"sm:max-w-[500px] min-w-[80%] lg:h-[80%] h-[100dvh] flex flex-col"},{default:e(()=>[t(s(L),null,{default:e(()=>[t(s(E),null,{default:e(()=>[l("Жалобы")]),_:1})]),_:1}),u("div",rs,[u("div",ls,[t(s(C),null,{default:e(()=>[t(s(j),null,{default:e(()=>[t(s(k),null,{default:e(()=>[t(s(i),null,{default:e(()=>[l("id")]),_:1}),t(s(i),null,{default:e(()=>[l("Причина")]),_:1}),t(s(i),null,{default:e(()=>[u("div",{class:"HeaderItem",onClick:f[0]||(f[0]=m=>s(x)().toggleSortByDate(n.value))},[l(" Дата "),t(s(y),{class:"size-4"})])]),_:1}),t(s(i),null,{default:e(()=>[u("div",{class:"HeaderItem",onClick:f[1]||(f[1]=m=>s(x)().toggleSortByStatus(n.value))},[l(" Статус "),t(s(y),{class:"size-4"})])]),_:1})]),_:1})]),_:1}),t(s(H),{class:"font-medium"},{default:e(()=>[(d(!0),_(I,null,D(n.value,m=>(d(),S(s(k),{key:m.id},{default:e(()=>[t(s(c),null,{default:e(()=>[l(p(m.id),1)]),_:2},1024),t(s(c),null,{default:e(()=>[l(p(m.reason),1)]),_:2},1024),t(s(c),null,{default:e(()=>[l(p(m.date),1)]),_:2},1024),t(s(c),null,{default:e(()=>[t(A,{status:m.status},null,8,["status"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),t(s(P),null,{default:e(()=>[t(s(G),{"as-child":"",class:"h-min"},{default:e(()=>[t(s(z),{type:"submit"},{default:e(()=>[l(" Сохранить ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:3}))}},us=T(os,[["__scopeId","data-v-f6cab51d"]]),ds={class:"h-full w-full"},cs={class:"w-full h-full p-2"},is=["href"],ps={class:"text-[16px]"},_s={__name:"ReportsView",setup(r){return(o,n)=>(d(),_("div",ds,[t(ss),u("div",cs,[t(s(K),{class:"rounded-[12px] p-0"},{default:e(()=>[t(s(C),null,{default:e(()=>[t(s(j),null,{default:e(()=>[t(s(k),null,{default:e(()=>[t(s(i),null,{default:e(()=>[l("id")]),_:1}),t(s(i),null,{default:e(()=>[l("Автор")]),_:1}),t(s(i),null,{default:e(()=>[u("div",{class:"HeaderItem",onClick:n[0]||(n[0]=a=>s(x)().toggleSortByDate(s(x)().reports))},[l(" Дата "),t(s(y),{class:"size-4"})])]),_:1}),t(s(i),null,{default:e(()=>[l("Тип контента")]),_:1}),t(s(i),null,{default:e(()=>[l("Ссылка")]),_:1}),t(s(i),null,{default:e(()=>[u("div",{class:"HeaderItem",onClick:n[1]||(n[1]=a=>s(x)().toggleSortByStatus(s(x)().reports))},[l(" Статус "),t(s(y),{class:"size-4"})])]),_:1}),t(s(i),null,{default:e(()=>[l("Жалобы")]),_:1})]),_:1})]),_:1}),t(s(H),{class:"font-medium"},{default:e(()=>[(d(!0),_(I,null,D(s(x)().reports,a=>(d(),S(s(k),{key:a.id},{default:e(()=>[t(s(c),null,{default:e(()=>[l(p(a.id),1)]),_:2},1024),t(s(c),null,{default:e(()=>[l(p(a.author),1)]),_:2},1024),t(s(c),null,{default:e(()=>[l(p(a.date),1)]),_:2},1024),t(s(c),null,{default:e(()=>[l(p(a.type),1)]),_:2},1024),t(s(c),{class:"hover:scale-[1.02] transition-all"},{default:e(()=>[u("a",{href:a.content,class:"text-primary underline"},p(a.content),9,is)]),_:2},1024),t(s(c),null,{default:e(()=>[t(A,{status:a.status},null,8,["status"])]),_:2},1024),t(s(c),{class:"w-12"},{default:e(()=>[t(us,{data:a.reports},{default:e(()=>[t(s(z),{variant:"ghost",class:"flex gap-1 items-center w-full"},{default:e(()=>[u("span",ps,p(a.reports.length),1),t(s(O),{class:"size-4"})]),_:2},1024)]),_:2},1032,["data"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})])]))}},ms=T(_s,[["__scopeId","data-v-82841614"]]);export{ms as default};
